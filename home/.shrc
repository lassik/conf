# emacs: -*- sh -*-

if test "$MY_CUSTOMIZATION_DONE" != "yes" ; then

    # Some programs are confused if $HOME and ~ are different paths.
    # (This can happen when part of $HOME is a symbolic link.)
    export HOME="$(cd && pwd -P)"
    cd "$(pwd -P)"

    export ENV=~/.shrc

fi

export MY_CUSTOMIZATION_DONE="yes"

for _myrc in ~/.myrc/*.sh ; do
    source "$_myrc"
done
unset _myrc

# Remove blank and duplicate entries in PATH.
export PATH="$(echo -n "$PATH" | awk -v RS=: '$0 && !arr[$0]++' | paste -sd : -)"

case "$-" in
    *i*)
        # This is an interactive shell.

        if which shellprompt >/dev/null 2>&1 ; then
            if test -n "$ZSH_VERSION" ; then
                eval $(shellprompt activate zsh)
            elif test -n "$BASH_VERSION" ; then
                eval $(shellprompt activate bash)
            fi
        fi

        ;;
esac
