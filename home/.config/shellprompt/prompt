79 constant linelen
?termcols linelen min blue line ?termcols linelen - 0 max blue line
?battery 100 < if
  ?battery 30 < dup
  if red else blue then text bat:
  invert if cyan then battery text % space
then
?gitbranch if
  blue text git
  ?gitstashcount if text "[" magenta text + gitstashcount blue text "]" then
  text ":"
  ?gitbranch ?text "master" <> if
    blue text "<" magenta gitbranch blue text ">"
  then
 space
then
green dir cr
blue time24 space weekday space
cyan host space
green shell sign space
